<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Fan's Blog</title><meta name="author" content="Fan"><meta name="copyright" content="Fan"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="Fan&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Fan&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/avatar.jpg">
<meta property="article:author" content="Fan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/icon.png"><link rel="canonical" href="http://example.com/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Fan\'s Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-12-03 10:41:33'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="page" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Fan's Blog"><span class="site-name">Fan's Blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/12/03/redis-pubsub-pub/" title="Redis 源碼解析 - PubSub 實作 (Publish)">Redis 源碼解析 - PubSub 實作 (Publish)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-12-03T02:41:21.000Z" title="Created 2023-12-03 10:41:21">2023-12-03</time></span></div><div class="content">前言上一篇介紹完 PubSub 中的 Subscribe 這篇就會開始介紹 Redis 是怎麼針對 Topic 發送訊息還有訂閱的是 Pattern 的使用者怎麼收到符合 Pattern 的訊息。
PubSub 的發送 (Publish)Redis 中發送的指令如下
PUBLISH &lt;Topic&gt; &lt;Message&gt;
Publish 的實作Publish 的實作分為兩個部分，分別為發送到訂閱這個 topic 的使用者跟訂閱 pattern 符合這個 topic 的使用者。
Publish 的實作內容都在這個裡面。
123456/* * Publish a message to all the subscribers. */int pubsubPublishMessageInternal(robj *channel, robj *message, pubsubtype type) &#123;    ...&#125;

第一部分會從 topic 的 Dict 中找是否有符合，並且將訊息發送到這個下面的所有用戶。
12345678910111213141516// ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/28/redis-pubsub-code/" title="Redis 源碼解析 - PubSub 實作 (Subscribe)">Redis 源碼解析 - PubSub 實作 (Subscribe)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-28T08:16:08.000Z" title="Created 2023-11-28 16:16:08">2023-11-28</time></span></div><div class="content">前言PubSub 是 Redis 中作為訊息傳遞的一種工具，可以藉由訂閱特定 topic (channel) 收到來自發送自這個  topic (channel) 的訊息，之前工作上開發的即時通訊系統，服務之間的溝通就是透過 PubSub 來溝通，所以想藉由閱讀 Redis 中的 PubSub 的 Source code 來了解他的實作機制。
PubSub 的訂閱 (Subscribe)在 Redis 中訂閱有兩種方式。

subscribe &lt;channel 1&gt; &lt;channel 2&gt;...
訂閱指定名稱的 topic (channel)，在 Redis 中可以一次訂閱多個。

psubscribe &lt;pattern1&gt; &lt;pattern2&gt; ...
基於 glob-style patterns 的去訂閱符合 pattern 的 topic (channel)。


這兩種方式在 Redis 中有不同的實作方式，但是訂閱的部分 Redis 這邊的實作方式都是用 Hash + Linked List。
Subscribe 的實作PubS ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/26/mysql-source-start-transaction/" title="MySQL 源碼解析 - 事務開始">MySQL 源碼解析 - 事務開始</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-26T02:54:21.000Z" title="Created 2023-11-26 10:54:21">2023-11-26</time></span></div><div class="content">前言從 Source Code 來看 MySQL 在事務開始後會有哪些操作。
事務開始的時機MySQL 中所有的語法其實都是一個隱性的事務，但是都無法由使用者自行控制邏輯上的 Commit 或 Rollback，而顯性的事務控制是由以下關鍵字組成。

START TRANSACTION READ WRITE
  開啟一個允許讀寫的事務。

START TRANSACTION READ ONLY 
  開啟一個只允許讀的事務，這個事務只能讀不能對任何值做修改。

START TRANSACTION WITH CONSISTENT SNAPSHOT 
  開始一個事務並獲得當前事務的 ReadView。

BEGIN
  功能類似 START TRANSACTION，但實際是以上的哪一個模式主要是看用戶的設定，預設是 START TRANSACTION READ WRITE。


以下是 MySQL 實際執行語法的函式，上述的事務語法都會被解析成 SQLCOM_BEGIN，並且帶入不同模式的參數。
123456789int mysql_execute_command(THD *thd, b ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/23/mysql-source-mvcc-transaction/" title="MySQL 源碼解析 - MVCC ReadView 建立">MySQL 源碼解析 - MVCC ReadView 建立</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-23T13:29:24.000Z" title="Created 2023-11-23 21:29:24">2023-11-23</time></span></div><div class="content">前言最近在複習 MySQL 的基礎知識，對於 MySQL 如何在一個交易中去產生 ReadView 來達到隔離性很有興趣所以就追了一下 Source Code，這篇主要會看事務啟動時 ReadView 的建立。MySQL 的 MVCC 實作是利用 ReadView 與 UndoLog 來達成，UndoLog 是實際的歷史資料而 ReadView 則是當下快照取到的事務 ID，用這個事務 ID 來去判斷這個 ReadView 的資料可見性。
目前看的 MySQL 版本為 8.0.35
ReadView 的結構ReadView 用來判斷哪些資料是否可見，主要是用下面這幾個結構。
m_creator_trx_id建立這個 ReadView 的事務 ID。
m_low_limit_id這個 ReadView 是無法看到這個 ID 後事務的資料 (比 m_low_limit_id 大的事務 ID)，就算已經 Commit 也是無法。
m_up_limit_id代表小於這個事務 ID 的所有事務都是這個 ReadView 可見的。 
m_ids;當下進行中的事務 ID。
1234567891011 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/17/mage-tutorial-advance/" title="Mage 教學 進階篇 (1)">Mage 教學 進階篇 (1)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-17T12:53:26.000Z" title="Created 2023-11-17 20:53:26">2023-11-17</time></span></div><div class="content">前言上一篇 基礎篇 介紹 mage 的基礎使用方法，這一篇會帶入更多的花招讓 mage 的使用靈活度更高。基本上這邊的內容都是參考官方文件並搭配自己的實驗而來的。
帶參數的 Target使用 Makefile 的時候常常遇到有些需要從命令列讀指定特殊參數，如果用 Makefile 來寫做法通常都有點不直觀，而且還要另外檢查輸入參數的數量是否合法，而 mage 利用函式的參數作為輸入的參數大大減低不直覺性與提高維護性，並且針對參數的類別，mage 還可以做到檢查輸入型別是否正確，以下是帶參數 target 的範例。
12345678910111213141516//go:build magepackage mainimport (	&quot;fmt&quot;	&quot;github.com/magefile/mage/sh&quot;)// 支援 bool, int, string, time.Durationfunc Build(testBool bool, testOne int, testString string, t time.Duration) error &#123; ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/16/mage-tutorial/" title="Mage 教學 基礎篇">Mage 教學 基礎篇</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-16T05:28:42.000Z" title="Created 2023-11-16 13:28:42">2023-11-16</time></span></div><div class="content">前言Mage 是一套將 Makefile 用 Golang 取代掉讓工程師免於熟悉其他語言的困惱的 Package，另外也利用程式語言的靈活性達到比 Makefile 可以做更多事情，這篇文章主要是教學 Mage 怎麼在專案中使用，安裝的部分可以去 Mage Github 上看，會有更新更即時的安裝資訊。
Mage Go 檔案的基礎格式Mage 在執行 mage 這個指令時都會去找哪些檔案有 go:build mage tag，有這些 tag 檔案內部的 Public 函式名稱都會被當成要執行的 target，以下面這個簡單的程式為例
12345678910111213// go:build magepackage mainimport &quot;fmt&quot;func Build() &#123;	fmt.Println(&quot;I&#x27;m build&quot;)&#125;func Hi() &#123;	fmt.Println(&quot;hi&quot;)&#125;

從上面的程式可以看到註解是有 go:build mage 的 tag，並且有 Build  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/16/map-reduce/" title="論文閱讀： MapReduce Simplified Data Processing on Larger Clusters">論文閱讀： MapReduce Simplified Data Processing on Larger Clusters</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-15T16:09:23.000Z" title="Created 2023-11-16 00:09:23">2023-11-16</time></span></div><div class="content">介紹MapReduce 是 Google 所提出的一個 Programming Model，目標是要實現簡單的介面讓工程師就能夠將大量資料分散到不同機器運算。MapReduce 其實就是利用 Divide and Conquer 的概念將大資料切分成小資料後再分別處理後在合再一起，透過這樣的方式可以讓這些被切分的小資料能夠被分散到不同機器上執行。
MapReduce 的 Programming ModelMapReduce 的 Programming Model 由 Map 和 Reduce 這兩個行為所組成，將傳入的 Key Value 資料經過這兩個行為後得出結果
Map (Divide)由使用者自定義的行為，會將 Key Value 的資料根據相同的 Key 或其他邏輯將這些資料組成有相同類型資料的 intermediate 資料。Map 這邊在定義的時候必須要考慮資料計算的幂等性，相同的資料不管計算幾次出來的 intermediate 資料應該都要是一樣，原因為 MapReduce 是一個分散式的系統架構，如果機器失效導致當下的這個 Map 失敗的話就必須讓其他機器來執行，當沒 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/10/chean-architecture-chapter-two/" title="Clean Architecture Chapter Two">Clean Architecture Chapter Two</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-10T13:42:00.000Z" title="Created 2023-11-10 21:42:00">2023-11-10</time></span></div><div class="content">行為與架構的價值軟體利用其行為提供價值，而軟體架構的價值在於設計的良好可以用最低的成本提供行為或改變行為。當下開發能夠馬上滿足行為而不管架構提供價值，這對老闆或者 PM 的回饋是相當直接的，但某種意義上這只是未來的時間拿補上現在的時間，未來要改變行為時，所花的時間成本絕對是相當高的。
為架構發聲PM 跟老闆不懂良好架構的有利之處這是合理的，畢竟他們不是軟體專業，所以說服他們就是你展現專業的時候！
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/11/09/chear-architechure-chapter-one/" title="Clean Architecture Chapter One">Clean Architecture Chapter One</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-11-09T13:47:15.000Z" title="Created 2023-11-09 21:47:15">2023-11-09</time></span></div><div class="content">好的軟體設計目標是什麼軟體架構的目標是 最小化 建議與維護時所需的人力。
不好的軟體架構會發生什麼事？從書中的案例來看，可以發現不好的程式碼會讓工程師的產出與成本為反比，就算越多的工程師跟越多的預算也無法達成期望的產出。因為設計不好的程式碼會讓工程師在開發的過程中寸步難行之外也可以有改 A 壞 B 的狀況出現。
結論不好的程式碼從短期開發的確很快，但是後續迭代上去的成本絕對是很高的。
想要走得快，唯一的方法就是要走得好
本書會介紹什麼是好的架構與設計，讓開發人員可以走得長久。
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2023/10/21/cache-intro/" title="什麼是 Cache">什麼是 Cache</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-10-21T08:15:38.000Z" title="Created 2023-10-21 16:15:38">2023-10-21</time></span></div><div class="content">Cache 概述Cache 就是將之後要再使用的資料存在記憶體中，這樣就不用去很慢的非揮發性存儲空間拿取資料，這不止是在後端架構中很常見，OS 或 Database 中的 Buffer 其實都是 Cache 的一種，在這邊會專注在後端系統架構中的 Cache。後端的 Cache 常見的工具有，Application 的內存、Redis、Memcache。
什麼時候要用 Cache
靜態網站資料，例如：不會變動的使用者資訊或者圖片等等
需求從 DB 或者非揮發性存儲空間拿取的資料，且這些資料不太容易有變動

Cache 的使用策略Cache 最常遇到的就是要處理在 Cache 中找不到資料跟資料更新時 Cache 要怎麼處理一致性的這些問題，常見的讀寫策略有以下幾種，這些策略各有優缺點端看系統在設計時的需求考量。
Read 策略Read 相對單純，只需要處理 Cache Miss，但通常都不會有太大問題
Cache AsideCache 更新的處理主要是由 Application 來做，當出現 Cache Miss 的時候，Application 會跟 Database 拿新的資料並且更 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Fan</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Noahnut" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="https://www.linkedin.com/in/qi-fan-zhuang-7664491a2/" target="_blank" title="Linkedin"><i class="fab fa-linkedin" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:liveinthewide@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/03/redis-pubsub-pub/" title="Redis 源碼解析 - PubSub 實作 (Publish)">Redis 源碼解析 - PubSub 實作 (Publish)</a><time datetime="2023-12-03T02:41:21.000Z" title="Created 2023-12-03 10:41:21">2023-12-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/28/redis-pubsub-code/" title="Redis 源碼解析 - PubSub 實作 (Subscribe)">Redis 源碼解析 - PubSub 實作 (Subscribe)</a><time datetime="2023-11-28T08:16:08.000Z" title="Created 2023-11-28 16:16:08">2023-11-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/26/mysql-source-start-transaction/" title="MySQL 源碼解析 - 事務開始">MySQL 源碼解析 - 事務開始</a><time datetime="2023-11-26T02:54:21.000Z" title="Created 2023-11-26 10:54:21">2023-11-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/23/mysql-source-mvcc-transaction/" title="MySQL 源碼解析 - MVCC ReadView 建立">MySQL 源碼解析 - MVCC ReadView 建立</a><time datetime="2023-11-23T13:29:24.000Z" title="Created 2023-11-23 21:29:24">2023-11-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/17/mage-tutorial-advance/" title="Mage 教學 進階篇 (1)">Mage 教學 進階篇 (1)</a><time datetime="2023-11-17T12:53:26.000Z" title="Created 2023-11-17 20:53:26">2023-11-17</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/redis/" style="font-size: 1.3em; color: #99a1ac">redis</a> <a href="/tags/mysql/" style="font-size: 1.3em; color: #99a1ac">mysql</a> <a href="/tags/machine-learning/" style="font-size: 1.1em; color: #999">machine learning</a> <a href="/tags/paper/" style="font-size: 1.1em; color: #999">paper</a> <a href="/tags/backend/" style="font-size: 1.5em; color: #99a9bf">backend</a> <a href="/tags/postgres/" style="font-size: 1.1em; color: #999">postgres</a> <a href="/tags/book/" style="font-size: 1.3em; color: #99a1ac">book</a> <a href="/tags/golang/" style="font-size: 1.3em; color: #99a1ac">golang</a> <a href="/tags/database/" style="font-size: 1.3em; color: #99a1ac">database</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">December 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">November 2023</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">October 2023</span><span class="card-archive-list-count">4</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">13</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-12-03T02:41:33.726Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Fan</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>